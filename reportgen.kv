ScreenManager:
    SignIn:
    MainScreen:
    CourseScreen:
    Grades:
    Report:
    Classes:
    Student:

<SignIn>
    name: 'signin'
    MDFloatLayout:
        MDLabel:
            text: 'ReportGen'
            pos_hint: {'center_x':0.9, "center_y": 0.75}
            font_size: "30sp"
            bold: True
        MDTextField:
            id: teacherid
            hint_text: 'ID'
            hint_text_mode:'focused'
            mode: "fill"
            size_hint_x:None
            width:500
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            multiline: False
            on_text_validate: password.focus = True
            helper_text: 'ID and/or Password May Be Wrong, Please Try again'
            helper_text_mode: 'on_error'
        MDTextField:
            id: password
            mode: "fill"
            color_mode: 'accent'
            size_hint_x:None
            width:500
            font_size: "15sp"
            pos_hint: {"center_x": 0.5, "center_y": 0.45}
            multiline: False
            on_text_validate: app.sign_in(teacherid.text, password.text)
            password: True
            hint_text: 'Password'
            helper_text: 'ID and/or Password May Be Wrong, Please Try again'
            helper_text_mode: 'on_error'
        MDRectangleFlatButton:
            text: 'Sign in'
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            on_release: app.sign_in(id.text, password.text)

<MainScreen>:
    name: 'main'

    MDBoxLayout:
        orientation: 'vertical'
        id: box_main
        MDTopAppBar:
            id: header
            md_bg_color: app.theme_cls.primary_color
            left_action_items: [["menu", lambda x: nav_drawer.set_state('open')]]
            right_action_items: [["help-circle-outline"]]
            specific_text_color: 'white'
            elevation: 0
            bold: True
            title: 'Subjects'
            title_color: 1,1,1,1
        MDFloatLayout:
            ScrollView:
                id: scroll_main
                size_hint: (1,1)
                do_scroll_x: True
                do_scroll_y: True
                scroll_type: ['bars']
                bar_width: 10  # Makes scrollbar visible
                bar_color: 0, 0, 0, 0.7

                        # cols: 3
                        # spacing: "10dp"
                        # padding: "10dp"
                        # size_hint_y: None
                        # height: self.minimum_height
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 0, 0, 0) 
        elevation: 0.5
        type: 'modal'
        enable_swiping: False
        close_on_click: True
        scrim_color: 0, 0, 0, .8
        MDNavigationDrawerMenu:
            orientation: "vertical"
            size_hint: 0.8, 1
            MDNavigationDrawerHeader:
                title: "ReportGen"
                title_color: 'green'
                padding: "6dp", 0, 0, "30dp"
                title_bold:True
            MDNavigationDrawerLabel:
                text: 'Screens'
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem:
                text: "Courses"
                on_release: app.get_main_screen("courses")
                icon: 'home'
            MDNavigationDrawerItem:
                text: "Classes"
                on_release: app.get_main_screen("classes")
                icon: 'book'

<Classes>:
    name: 'class'

    MDBoxLayout:
        orientation: 'vertical'
        id: box_main
        MDTopAppBar:
            id: header
            md_bg_color: app.theme_cls.primary_color
            left_action_items: [["menu", lambda x: nav_drawer.set_state('open')]]
            right_action_items: [["help-circle-outline"]]
            title: 'Classes'
            specific_text_color: 'white'
            elevation: 0
            bold: True
        MDFloatLayout:
            orientation: 'vertical'
            id: float_table
            size_hint: (1, 1)
            ScrollView:
                id: scroll_main
                x_scroll: False
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 0, 0, 0) 
        elevation: 0.5
        type: 'modal'
        enable_swiping: False
        close_on_click: True
        scrim_color: 0, 0, 0, .8
        MDNavigationDrawerMenu:
            orientation: "vertical"
            size_hint: 0.8, 1
            MDNavigationDrawerHeader:
                title: "ReportGen"
                title_color: 'green'
                padding: "6dp", 0, 0, "30dp"
                title_bold:True
            MDNavigationDrawerLabel:
                text: 'Screens'
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem:
                text: "Courses"
                on_release: app.get_main_screen("courses")
                icon: 'home'
            MDNavigationDrawerItem:
                text: "Classes"
                on_release: app.get_main_screen("classes")
                icon: 'book'

<Student>
    name: 'student'
    MDBoxLayout:
        orientation: 'vertical'
        id: box_student
        MDTopAppBar:
            id: header
            md_bg_color: app.theme_cls.primary_color
            left_action_items: [["menu", lambda x: nav_drawer.set_state('open')]]
            right_action_items: [["help-circle-outline"]]
            title: 'ReportGen'
            specific_text_color: 'white'
            elevation: 0
            bold: True
        MDGridLayout:
            rows: 2
            MDFloatLayout:
                Image:
                    source: 'photos/johndoe.png'
                    pos_hint: {"center_x": 0.5, "center_y": 0.6}
                MDLabel:
                    id: studentname
                    halign: 'center'
                    pos_hint: {"center_y": 0.3}
                    bold: True
                    theme_text_color: 'Custom'
                    text_color: 0,0,0,0.8
                    font_size: "30sp"
                MDLabel:
                    id: classid
                    halign: 'center'
                    pos_hint: {"center_y": 0.2}
                    bold: True
                    theme_text_color: 'Custom'
                    text_color: 0,0,0,0.8
                    font_size: "20sp"
            MDGridLayout:
                rows: 3
                MDBoxLayout:
                    orientation: 'horizontal'
                    MDLabel:
                        text: 'Term 1'
                        halign: 'right'
                        bold: True
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primary_color
                        font_size: "20sp"
                    MDFloatLayout:
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        MDCard:
                            size_hint: None, None
                            size: 100, 100
                            radius: [100, 100, 100, 100]  # Makes it a perfect circle
                            elevation: 0
                            fit_image: True
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {'center_x': 0.5, 'center_y':0.5}
                            MDLabel:
                                id: t1
                                halign: 'center'
                                theme_text_color: 'Custom'
                                text_color: 1,1,1,1
                                bold: True
                    MDBoxLayout:
                        MDRectangleFlatButton:
                            id: t1btn
                            text: 'Edit'
                            pos_hint: {'center_y': 0.5}
                            on_release: app.edit_grade('Term 1', 'term1')
                MDBoxLayout:
                    orientation: "horizontal"
                    MDLabel:
                        text: 'Term 2'
                        size_hint_x: 1
                        halign: 'right'
                        bold: True
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primary_color
                        font_size: "20sp"
                    MDFloatLayout:
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        MDCard:
                            size_hint: None, None
                            size: 100, 100
                            radius: [100, 100, 100, 100]  # Makes it a perfect circle
                            elevation: 0
                            fit_image: True
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {'center_x': 0.5, 'center_y':0.5}
                            MDLabel:
                                id: t2
                                halign: 'center'
                                theme_text_color: 'Custom'
                                text_color: 1,1,1,1
                                bold: True
                    MDBoxLayout:
                        MDRectangleFlatButton:
                            id: t2btn
                            text: 'Edit'
                            pos_hint: {'center_y': 0.5}
                            on_release: app.edit_grade('Term 2', 'term2')
                MDBoxLayout:
                    orientation: "horizontal"
                    MDLabel:
                        text: 'Term 3'
                        size_hint_x: 1
                        halign: 'right'
                        bold: True
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primary_color
                        font_size: "20sp"
                    MDFloatLayout:
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        MDCard:
                            size_hint: None, None
                            size: 100, 100
                            radius: [100, 100, 100, 100]  # Makes it a perfect circle
                            elevation: 0
                            fit_image: True
                            md_bg_color: app.theme_cls.primary_color
                            pos_hint: {'center_x': 0.5, 'center_y':0.5}
                            MDLabel:
                                id: t3
                                halign: 'center'
                                theme_text_color: 'Custom'
                                text_color: 1,1,1,1
                                bold: True
                    MDBoxLayout:
                        MDRectangleFlatButton:
                            id: t3btn
                            size_hint_x: None
                            width: 50  # Set a fixed width
                            pos_hint: {"center_y": 0.5}
                            text: 'Edit'
                            on_release: app.edit_grade('Term 3', 'term3')
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 0, 0, 0) 
        elevation: 0.5
        type: 'modal'
        enable_swiping: False
        close_on_click: True
        scrim_color: 0, 0, 0, .8
        MDNavigationDrawerMenu:
            orientation: "vertical"
            size_hint: 0.8, 1
            MDNavigationDrawerHeader:
                title: "ReportGen"
                title_color: 'green'
                padding: "6dp", 0, 0, "30dp"
                title_bold:True
            MDNavigationDrawerLabel:
                text: 'Screens'
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem:
                text: "Courses"
                on_release: app.get_main_screen("courses")
                icon: 'home'
                    

<CourseScreen>
    name: 'course'

    MDBoxLayout:
        orientation: 'vertical'
        id: box_course
        MDTopAppBar:
            title: "ReportGen"
            title_color: 1, 1, 1, 1
            md_bg_color: app.theme_cls.primary_color
            left_action_items: [["menu", lambda x: nav_drawer.set_state('open')]]
            right_action_items: [["help-circle-outline"]]
            specific_text_color: 'white'
            elevation: 0
            bold: True
        MDFloatLayout:
            orientation: 'vertical'
            id: float_table
            size_hint: (1, 1)
            # rows:2
            # MDGridLayout:
            #     cols: 3
            #     MDLabel:
            #         text: 'ID'
            #     MDLabel:
            #         text: 'Course Name'
            #     MDLabel:
            #         text: 'Class'
            ScrollView:
                id: scroll_course
                x_scroll: False

                
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 0, 0, 0) 
        type: 'modal'
        enable_swiping: False
        close_on_click: True
        scrim_color: 0, 0, 0, .1
        MDNavigationDrawerMenu:
            orientation: "vertical"
            size_hint: 0.8, 1
            MDNavigationDrawerHeader:
                title: "ReportGen"
                title_color: 'green'
                padding: "6dp", 0, 0, "30dp"
                bold:True
            MDNavigationDrawerLabel:
                text: 'Screens'
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem:
                text: "Courses"
                on_release: app.get_main_screen("courses")
                icon: 'home'
<Grades>
    name: 'grades'

    MDGridLayout:
        id: grid_grades
        cols: 3
        MDTextField:
            id: term
            mode: 'round'
            size_hint: (None, None)
            width: 280
            height: 50
            font_size: "20sp"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            multiline: False
            hint_text: 'Input % (Only number)'
<Report>
    name: 'report'

    MDFloatLayout:
        Button:
            id: term
            size_hint: (None, None)
            width: 500
            height: 50
            fill_color: 'cyan'
            text_color: 'white'
            pos_hint: {"center_x": 0.3, "center_y": 0.5}
            on_release: app.menu.open()
